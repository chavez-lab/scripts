#!/bin/bash

## DO NOT EDIT THIS FILE. Please copy it for your needs. ##

#SBATCH --nodes=1 # All cores on one machine
#SBATCH --account=csd677 # Lukas lab allocation
#SBATCH --partition=shared
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=1
#SBATCH -t 0-4:00 # Runtime in D-HH:MM
#SBATCH --mem=12G # Memory pool for all cores
#SBATCH -o slurm-%x-%j.out # File to which STDOUT will be written
#SBATCH --job-name=geo-upload
#SBATCH --mail-type=FAIL # Type of email notification- BEGIN,END,FAIL,ALL
#SBATCH --mail-user=ochapman@ucsd.edu # Email to which notifications will be sent
##SBATCH --array=1-1%1
### Set this to the working directory
#SBATCH -D .

# Submit this sbatch job with
# sbatch this_script.sh

#################################
# Run your code below this line #
#################################

# Load your conda env
DATA_LOC=/expanse/lustre/projects/csd677/collab/data/Hi-C/medulloblastoma/20190930_HiC/raw_data
GLOB=$1 #eg. SC_505_MB227
FTPUSRPWDHOST=$2 #eg. ftp://geoftp:[userpassword]@ftp-private.ncbi.nlm.nih.gov

cd $DATA_LOC
lftp $FTPUSRPWDHOST
cd uploads/chavezlab.geouploads@gmail.com_2vMnucIE
cd HiC
mput $GLOB/$GLOB*.fq.gz

